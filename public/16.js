(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{64:function(e,t,s){"use strict";s.r(t);var r={name:"searchautocomplete",props:["searchtype","data_old"],data:function(){return{searchquery:"",data_results:[],isOpen:!1,arrowCounter:-1,search_more:!0}},methods:{autoComplete:function(){var e=this;this.isOpen=!0,this.data_results=[];this.searchquery.length>2?(axios.get("/api/autocomplete/search/univers",{params:{searchquery:this.searchquery}}).then(function(t){console.log(t),e.data_results=t.data}),this.search_more=!1):this.search_more=!0},setResult:function(e){this.isOpen=!0,this.searchquery=e,console.log(e),this.isOpen=!1},onArrowDown:function(){this.arrowCounter<this.data_results.length&&(this.arrowCounter=this.arrowCounter+1)},onArrowUp:function(){this.arrowCounter>0&&(this.arrowCounter=this.arrowCounter-1)},onEnter:function(){var e=this.data_results[this.arrowCounter];this.searchquery=e.name,this.isOpen=!1,this.arrowCounter=-1},handleClickOutside:function(e){this.$el.contains(e.target)||(this.isOpen=!1,this.arrowCounter=-1)}},mounted:function(){this.searchquery=this.data_old},destroyed:function(){}},n=s(0),a=Object(n.a)(r,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchquery,expression:"searchquery"}],staticClass:"input_modal blck",attrs:{type:"text",name:e.searchtype,placeholder:e.data_old},domProps:{value:e.searchquery},on:{input:[function(t){t.target.composing||(e.searchquery=t.target.value)},e.autoComplete],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onArrowDown(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onArrowUp(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter(t)}],focus:function(t){e.isOpen=!0}}}),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen&&!1===this.search_more,expression:"isOpen && this.search_more === false"}],staticClass:"autocomplete-results"},[e._l(e.data_results,function(t,r){return s("li",{key:r,staticClass:"autocomplete-result",class:{"is-active":r===e.arrowCounter}},[s("span",{staticClass:"test",on:{click:function(s){return e.setResult(t.name)}}},[e._v(e._s(t.name))])])}),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:0===e.data_results.length&&!0===this.search_more,expression:"data_results.length === 0 && this.search_more === true"}],staticClass:"autocomplete-result"},[e._v("\n            Pas de r√©sultats\n        ")])],2)])},[],!1,null,null,null);t.default=a.exports}}]);